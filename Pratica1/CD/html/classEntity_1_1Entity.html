<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CD Project #1: P2P Drive-thru: Entity.Entity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="drivethru-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CD Project #1: P2P Drive-thru
   </div>
   <div id="projectbrief">Small project to simulate the behaviour of a restaurant using a P2P network. All entities created will communicate with each other via a Token, creating a Token Ring.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Entity</b></li><li class="navelem"><a class="el" href="classEntity_1_1Entity.html">Entity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classEntity_1_1Entity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Entity.Entity Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classEntity_1_1Entity.html" title="Entity Class Made for communication between the Actors in the simulation To have a distinction betwee...">Entity</a> Class Made for communication between the Actors in the simulation To have a distinction between the entites in a ring, an ID and a Name are needed.  
 <a href="classEntity_1_1Entity.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Entity.Entity:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEntity_1_1Entity.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77102d044eac46761f742ec68f691d35"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a77102d044eac46761f742ec68f691d35">__init__</a> (self, id, addr, name, in_ring=None, size=4, timeout=3)</td></tr>
<tr class="memdesc:a77102d044eac46761f742ec68f691d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor Has some default values, i.e.  <a href="classEntity_1_1Entity.html#a77102d044eac46761f742ec68f691d35">More...</a><br /></td></tr>
<tr class="separator:a77102d044eac46761f742ec68f691d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaacbfaa56fa8c558484f05f16f426b6a"><td class="memItemLeft" align="right" valign="top"><a id="aaacbfaa56fa8c558484f05f16f426b6a"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#aaacbfaa56fa8c558484f05f16f426b6a">send</a> (self, address, o)</td></tr>
<tr class="memdesc:aaacbfaa56fa8c558484f05f16f426b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send function Simple send function that will pickle an object and send it through the socket. <br /></td></tr>
<tr class="separator:aaacbfaa56fa8c558484f05f16f426b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a9787bcb1cf8502de1864ebcf2f842"><td class="memItemLeft" align="right" valign="top"><a id="ae4a9787bcb1cf8502de1864ebcf2f842"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#ae4a9787bcb1cf8502de1864ebcf2f842">recv</a> (self)</td></tr>
<tr class="memdesc:ae4a9787bcb1cf8502de1864ebcf2f842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive function Simple receive functoin that will receive a message from the socket and return the message and address. <br /></td></tr>
<tr class="separator:ae4a9787bcb1cf8502de1864ebcf2f842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6505d77c1b2ce1794e53f5bfd50aad5"><td class="memItemLeft" align="right" valign="top"><a id="ac6505d77c1b2ce1794e53f5bfd50aad5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#ac6505d77c1b2ce1794e53f5bfd50aad5">connect</a> (self, args)</td></tr>
<tr class="memdesc:ac6505d77c1b2ce1794e53f5bfd50aad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect function Function that allows for an entity to join the ring It needs the entity's information: its id and address There are three alternatives to be explored: If there's only one <a class="el" href="classEntity_1_1Entity.html" title="Entity Class Made for communication between the Actors in the simulation To have a distinction betwee...">Entity</a> on the ring, in which case the candidate will join without further complications If the candidate entity's id is between the receiver's ID and its successor's, in which case the successor's ID will be sent to the candidate entity, and the receiver's successor will change to candidate's If none of these apply, it message will just be forward to the successor. <br /></td></tr>
<tr class="separator:ac6505d77c1b2ce1794e53f5bfd50aad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956f3cdd8a6b6eb08e02e3c45d10ea31"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a956f3cdd8a6b6eb08e02e3c45d10ea31">broadcast</a> (self, args)</td></tr>
<tr class="memdesc:a956f3cdd8a6b6eb08e02e3c45d10ea31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast Function Simple function that uses the ring's size introduced in the constructor to check if the ring is complete Starts just sending a message that will go to all entities present in the ring; The one who started the message will use its ID as the Final ID, i.e.  <a href="classEntity_1_1Entity.html#a956f3cdd8a6b6eb08e02e3c45d10ea31">More...</a><br /></td></tr>
<tr class="separator:a956f3cdd8a6b6eb08e02e3c45d10ea31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa47528a1b1ee7d7c978a9a64070dc3"><td class="memItemLeft" align="right" valign="top"><a id="aaaa47528a1b1ee7d7c978a9a64070dc3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#aaaa47528a1b1ee7d7c978a9a64070dc3">start_token</a> (self, args)</td></tr>
<tr class="memdesc:aaaa47528a1b1ee7d7c978a9a64070dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start token function Function that works simply as a warning to all entites inside the ring that a Token will be launched Who sends it is the one defined in the discovery function. <br /></td></tr>
<tr class="separator:aaaa47528a1b1ee7d7c978a9a64070dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8280e4527333d6425681c76f28f65e"><td class="memItemLeft" align="right" valign="top"><a id="a5c8280e4527333d6425681c76f28f65e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a5c8280e4527333d6425681c76f28f65e">discovery</a> (self, args)</td></tr>
<tr class="memdesc:a5c8280e4527333d6425681c76f28f65e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discover function First function to run after the ring is complete Will fill out each entities' discovery table, that connects the name of the entity with its address. <br /></td></tr>
<tr class="separator:a5c8280e4527333d6425681c76f28f65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cfb3721d55cff2d6506072f62ea1143"><td class="memItemLeft" align="right" valign="top"><a id="a5cfb3721d55cff2d6506072f62ea1143"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run</b> (self)</td></tr>
<tr class="separator:a5cfb3721d55cff2d6506072f62ea1143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab072eb55b5783eec41c1d6dff6cdad99"><td class="memItemLeft" align="right" valign="top"><a id="ab072eb55b5783eec41c1d6dff6cdad99"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:ab072eb55b5783eec41c1d6dff6cdad99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb81c5ac4f7474841aa35ea59544bef"><td class="memItemLeft" align="right" valign="top"><a id="a6cb81c5ac4f7474841aa35ea59544bef"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>addr</b></td></tr>
<tr class="separator:a6cb81c5ac4f7474841aa35ea59544bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29104336651119310041189e0471e69"><td class="memItemLeft" align="right" valign="top"><a id="af29104336651119310041189e0471e69"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>name</b></td></tr>
<tr class="separator:af29104336651119310041189e0471e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88846a5f64c80ebbd68a72120f884e1a"><td class="memItemLeft" align="right" valign="top"><a id="a88846a5f64c80ebbd68a72120f884e1a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a88846a5f64c80ebbd68a72120f884e1a">successor</a></td></tr>
<tr class="memdesc:a88846a5f64c80ebbd68a72120f884e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The successor's identification and address. <br /></td></tr>
<tr class="separator:a88846a5f64c80ebbd68a72120f884e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb32ae8e2cec9665aa2cfbe133a9ba4f"><td class="memItemLeft" align="right" valign="top"><a id="aeb32ae8e2cec9665aa2cfbe133a9ba4f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>succ_addr</b></td></tr>
<tr class="separator:aeb32ae8e2cec9665aa2cfbe133a9ba4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20261bf277315b3e40bf26e4837aa07b"><td class="memItemLeft" align="right" valign="top"><a id="a20261bf277315b3e40bf26e4837aa07b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a20261bf277315b3e40bf26e4837aa07b">inside_ring</a></td></tr>
<tr class="memdesc:a20261bf277315b3e40bf26e4837aa07b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not it's inside the ring. <br /></td></tr>
<tr class="separator:a20261bf277315b3e40bf26e4837aa07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c157184702ff16d14c1892c5e1ee656"><td class="memItemLeft" align="right" valign="top"><a id="a5c157184702ff16d14c1892c5e1ee656"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>in_ring</b></td></tr>
<tr class="separator:a5c157184702ff16d14c1892c5e1ee656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc67046c6d037d19152fc9a75d4def9"><td class="memItemLeft" align="right" valign="top"><a id="a5bc67046c6d037d19152fc9a75d4def9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a5bc67046c6d037d19152fc9a75d4def9">table</a></td></tr>
<tr class="memdesc:a5bc67046c6d037d19152fc9a75d4def9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identification Table, to corresponde each entity's identification to its address. <br /></td></tr>
<tr class="separator:a5bc67046c6d037d19152fc9a75d4def9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274102b8ee28569e2888018eb63ff47d"><td class="memItemLeft" align="right" valign="top"><a id="a274102b8ee28569e2888018eb63ff47d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a274102b8ee28569e2888018eb63ff47d">complete_ring</a></td></tr>
<tr class="memdesc:a274102b8ee28569e2888018eb63ff47d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean variable to check if the ring is complete. <br /></td></tr>
<tr class="separator:a274102b8ee28569e2888018eb63ff47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c51457da24b9fd0714fae34fdf7a3d4"><td class="memItemLeft" align="right" valign="top"><a id="a2c51457da24b9fd0714fae34fdf7a3d4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a2c51457da24b9fd0714fae34fdf7a3d4">queue_in</a></td></tr>
<tr class="memdesc:a2c51457da24b9fd0714fae34fdf7a3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue in, with messages from the entity to circulate inside the ring. <br /></td></tr>
<tr class="separator:a2c51457da24b9fd0714fae34fdf7a3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602e6dc7bc6fb96c3d8891b086c64756"><td class="memItemLeft" align="right" valign="top"><a id="a602e6dc7bc6fb96c3d8891b086c64756"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#a602e6dc7bc6fb96c3d8891b086c64756">queue_out</a></td></tr>
<tr class="memdesc:a602e6dc7bc6fb96c3d8891b086c64756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue out, with messages from the ring that are meant for the object's corresponding Actor. <br /></td></tr>
<tr class="separator:a602e6dc7bc6fb96c3d8891b086c64756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbafb31a8ac4cdd998c73786d9e1e35f"><td class="memItemLeft" align="right" valign="top"><a id="afbafb31a8ac4cdd998c73786d9e1e35f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>size</b></td></tr>
<tr class="separator:afbafb31a8ac4cdd998c73786d9e1e35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada38160c19d4162b15449995e2336da4"><td class="memItemLeft" align="right" valign="top"><a id="ada38160c19d4162b15449995e2336da4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#ada38160c19d4162b15449995e2336da4">socket</a></td></tr>
<tr class="memdesc:ada38160c19d4162b15449995e2336da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Socket for communication. <br /></td></tr>
<tr class="separator:ada38160c19d4162b15449995e2336da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc56239001da01ce5c493dd63249c9e"><td class="memItemLeft" align="right" valign="top"><a id="acdc56239001da01ce5c493dd63249c9e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEntity_1_1Entity.html#acdc56239001da01ce5c493dd63249c9e">logger</a></td></tr>
<tr class="memdesc:acdc56239001da01ce5c493dd63249c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logger to print out information to the console. <br /></td></tr>
<tr class="separator:acdc56239001da01ce5c493dd63249c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classEntity_1_1Entity.html" title="Entity Class Made for communication between the Actors in the simulation To have a distinction betwee...">Entity</a> Class Made for communication between the Actors in the simulation To have a distinction between the entites in a ring, an ID and a Name are needed. </p>
<p>These identification is needed to specify who an entity wants to send a message to To build the ring itself, each entity will have a successor, based on the ID. This ring is done in such a way that the successor's ID will be greather than it's own Unless, it has the biggest ID in the ring, so it's successor will be the smallest ID in the ring. Finally, in order for the objects to unite in a ring, it's needed to introduce one address of someone already inside the ring. If none is give, it's assumed that the entity wants to start the ring, making one with itself and having itself as a successor. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a77102d044eac46761f742ec68f691d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77102d044eac46761f742ec68f691d35">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Entity.Entity.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>in_ring</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor Has some default values, i.e. </p>
<p>the port of a node in a ring (in_ring), the ring's size, and the timeout for the messages Other paramenters include the name and ID, as said before, to identify the entity itself And the address, for communication purposes </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a956f3cdd8a6b6eb08e02e3c45d10ea31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956f3cdd8a6b6eb08e02e3c45d10ea31">&#9670;&nbsp;</a></span>broadcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Entity.Entity.broadcast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast Function Simple function that uses the ring's size introduced in the constructor to check if the ring is complete Starts just sending a message that will go to all entities present in the ring; The one who started the message will use its ID as the Final ID, i.e. </p>
<p>the ending condition The message will circulate in the ring, each incrementing a counter within the message by 1 Once it has reached the entity from which the message was sent, the count will be checked to see if it matches the ring_size If so, the start token function will be called This function also serves the purpose of finding who must start sending the token, in this implementation the one with the lowest ID will be picked </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Entity.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
